# ============================================
# XpenseLab Environment Variables
# ============================================
# 
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual values below
# 3. NEVER commit .env to version control (it's in .gitignore)
#
# For production deployment, see:
# - docs/setup/FIREBASE_APPHOSTING_COMMANDS.md (for Firebase App Hosting secrets)
# - docs/integrations/STRIPE_INTEGRATION.md (for Stripe setup)
# ============================================

# ============================================
# FIREBASE CONFIGURATION (Required)
# ============================================
# Get these from: Firebase Console > Project Settings > General > Your apps > Web app

# Firebase Project ID (public - safe to expose)
# Example: studio-3845013162-4f4cd
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_firebase_project_id_here

# Firebase API Key (public - safe to expose, but should have HTTP referrer restrictions)
# IMPORTANT: Add domain restrictions in Google Cloud Console > API Keys
# Example: AIzaSyCtXafnitDT7Y4Xey_GyYOr4ZL1BD3Ft9E
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key_here

# ============================================
# AI/GENKIT CONFIGURATION (Required for AI features)
# ============================================
# Get from: https://aistudio.google.com/app/apikey
# Note: Either GOOGLE_GENAI_API_KEY or GEMINI_API_KEY works (both are supported)

# Google Generative AI API Key (for AI categorization, insights, forecasting)
GOOGLE_GENAI_API_KEY=your_google_genai_api_key_here

# Alternative: Gemini API Key (if you prefer this name)
# GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# STRIPE PAYMENT INTEGRATION (Required for Premium subscriptions)
# ============================================
# Get from: https://dashboard.stripe.com
# See docs/integrations/STRIPE_INTEGRATION.md for complete setup instructions

# Stripe Secret Key (server-side only - NEVER expose to client)
# Test mode: starts with sk_test_
# Live mode: starts with sk_live_
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Stripe Publishable Key (public - safe to expose)
# Test mode: starts with pk_test_
# Live mode: starts with pk_live_
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe Price ID for Premium subscription ($10/month)
# Get from: Stripe Dashboard > Products > Your Product > Pricing
# Format: price_xxxxxxxxxxxxx
STRIPE_PRICE_ID=price_your_stripe_price_id_here

# Stripe Webhook Signing Secret
# Get from: Stripe Dashboard > Developers > Webhooks > Your endpoint > Signing secret
# Format: whsec_xxxxxxxxxxxxx
# Webhook endpoint: https://your-domain.com/api/webhook
# Required events: checkout.session.completed, customer.subscription.updated, customer.subscription.deleted, invoice.payment_failed
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# BANK INTEGRATIONS (Optional)
# ============================================



# ============================================
# SECURITY & MONITORING (Optional)
# ============================================

# reCAPTCHA v3 Site Key (for Firebase App Check)
# Get from: Firebase Console > App Check > reCAPTCHA v3
# Required for production to protect backend resources
NEXT_PUBLIC_RECAPTCHA_V3_SITE_KEY=your_recaptcha_v3_site_key_here

# Disable Runtime Monitoring (optional, default: enabled)
# Set to "true" to disable all monitoring features
# Monitoring includes: Web Vitals, Error Tracking, Network Monitoring, UI/UX Detection
NEXT_PUBLIC_DISABLE_MONITORING=false

# ============================================
# TESTING (Optional - Development only)
# ============================================

# Enable E2E Testing Mode (optional)
# Set to "true" to enable end-to-end testing features
NEXT_PUBLIC_E2E_TESTING=false

# ============================================
# NOTES & BEST PRACTICES
# ============================================

# Variable Naming Convention:
# - NEXT_PUBLIC_* = Exposed to browser/client-side code (public)
# - No prefix = Server-side only (never exposed to client)

# Security Best Practices:
# 1. NEVER commit .env file to version control
# 2. Use test keys for development (Stripe: sk_test_, pk_test_)
# 3. Use production keys only in production environment
# 4. Rotate API keys regularly, especially public ones
# 5. Add HTTP referrer restrictions to Firebase API key in Google Cloud Console

# Firebase App Hosting Setup:
# For production, set sensitive values as SECRETS (not plain values):
# - NEXT_PUBLIC_FIREBASE_API_KEY (as secret)
# - GOOGLE_GENAI_API_KEY (as secret)
# - STRIPE_SECRET_KEY (as secret)
# - STRIPE_PRICE_ID (as secret)
# - STRIPE_WEBHOOK_SECRET (as secret)
#
# Commands:
# npx firebase-tools apphosting:secrets:set SECRET_NAME
# npx firebase-tools apphosting:secrets:grantaccess SECRET_NAME --backend=studio
#
# See docs/setup/FIREBASE_APPHOSTING_COMMANDS.md for detailed instructions

# Local Development:
# 1. Copy this file: cp .env.example .env
# 2. Fill in required values (at minimum: Firebase and Genkit keys)
# 3. For Stripe, use test mode keys

# Production Deployment:
# 1. Use production API keys (Stripe: sk_live_, pk_live_)
# 2. Set all secrets in Firebase App Hosting
# 3. Configure Stripe webhook to point to production domain
# 4. Enable Firebase App Check with reCAPTCHA v3

# ============================================
# RELATED DOCUMENTATION
# ============================================
# - Stripe Integration: docs/integrations/STRIPE_INTEGRATION.md
# - Firebase App Hosting: docs/setup/FIREBASE_APPHOSTING_COMMANDS.md
# - Application Guide: docs/APPLICATION_GUIDE.md
# - README: README.md
